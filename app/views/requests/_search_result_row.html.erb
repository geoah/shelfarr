<div class="flex items-center justify-between py-2 px-3 bg-gray-800 rounded <%= result.language_matches_request? ? '' : 'border border-yellow-600/30' %>" data-search-results-target="result">
  <div class="min-w-0 flex-grow mr-3">
    <p class="text-sm text-white truncate" title="<%= result.title %>"><%= result.title %></p>
    <div class="flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-gray-400 mt-1">
      <% if result.size_bytes.present? %>
        <span><%= result.size_human %></span>
      <% end %>
      <% if result.seeders.present? %>
        <span class="text-green-400"><%= result.seeders %> seeds</span>
      <% end %>
      <% if result.leechers.present? %>
        <span class="text-orange-400"><%= result.leechers %> leeches</span>
      <% end %>
      <% if result.detected_language.present? %>
        <span class="<%= result.language_matches_request? ? 'text-green-400' : 'text-yellow-400' %>">
          <%= result.language_display_name %>
        </span>
      <% end %>
      <% if result.confidence_score.present? %>
        <span class="<%= result.high_confidence? ? 'text-green-400' : '' %>">
          Score: <%= result.confidence_score %>%
        </span>
      <% end %>
      <% if result.indexer.present? %>
        <span class="text-gray-500"><%= result.indexer %></span>
      <% end %>
    </div>
  </div>
  <div class="flex-shrink-0 flex items-center gap-2">
    <% if result.info_url.present? %>
      <%= link_to "Info", result.info_url, target: "_blank", rel: "noopener",
          class: "px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded font-medium transition" %>
    <% end %>
    <% if result.pending? && result.downloadable? %>
      <%= button_to "Select", select_admin_request_search_result_path(request, result),
          method: :post,
          class: "px-2 py-1 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded font-medium transition" %>
    <% elsif result.pending? %>
      <span class="px-2 py-1 text-xs bg-gray-700 text-gray-500 rounded">No link</span>
    <% elsif result.selected? %>
      <span class="px-2 py-1 text-xs bg-green-600/20 text-green-400 rounded font-medium">Selected</span>
    <% end %>
  </div>
</div>
